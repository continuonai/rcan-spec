---
import BaseLayout from '../../layouts/BaseLayout.astro';

const schemaYaml = `# Required fields
rrn: "RRN-XXXXXXXX"                    # Assigned by registry
name: "Robot Name"                      # Human-readable name
manufacturer: "Company Name"            # Manufacturer/organization
model: "model-identifier"               # Unique model ID
description: "Description text"         # Brief description
status: "active"                        # active | retired | prototype | concept

# Optional metadata
image: "/robots/robot-name.svg"         # Path to image
production_year: 2024                   # Year first produced

# Optional links
urdf_url: "https://..."                 # URDF description URL
github_url: "https://..."               # GitHub repository
website: "https://..."                  # Official website

# Optional technical specifications
specs:
  weight_kg: 10.0                       # Weight in kilograms
  dimensions: "500 x 300 x 200 mm"      # L x W x H
  max_speed_mps: 1.0                    # Max speed (m/s)
  dof: 6                                # Degrees of freedom
  ros_version: ["ROS 2"]                # ROS versions supported
  sensors: ["LiDAR", "Camera"]          # Sensor list
  compute: "NVIDIA Jetson"              # Compute platform
  payload_kg: 5.0                       # Max payload (kg)
  battery_life_hours: 2.0               # Battery life
  reach_mm: 850                         # Arm reach (mm)

# Optional ownership
owner:
  name: "Owner Name"                    # Person or organization
  type: "company"                       # individual | company | research | community
  website: "https://..."                # Owner website

# Optional ownership history (for transfers)
ownership_history:
  - owner_name: "Previous Owner"
    owner_type: "company"
    acquired_date: "2020-01-15"
    transferred_date: "2023-06-01"
    transfer_reason: "Acquisition"
    verified: true

# RCAN protocol integration
ruri: null                              # Robot URI (if RCAN-enabled)

# Submission metadata
submitted_by: "github:username"         # Submitter identifier
submitted_date: "2024-01-15"            # YYYY-MM-DD format
tags: ["mobile", "ros2", "research"]    # Discovery tags`;
---

<BaseLayout title="YAML Schema Reference" description="Complete reference for the robot registration YAML schema.">
  <nav class="doc-nav">
    <a href="/docs/">‚Üê Documentation</a>
  </nav>

  <article class="doc-article">
    <h1>YAML Schema Reference</h1>
    <p class="lead">Complete reference for robot registration data format.</p>

    <section>
      <h2>Full Schema</h2>
      <pre><code>{schemaYaml}</code></pre>
    </section>

    <section>
      <h2>Field Reference</h2>

      <h3>Required Fields</h3>
      <table>
        <thead>
          <tr>
            <th>Field</th>
            <th>Type</th>
            <th>Description</th>
          </tr>
        </thead>
        <tbody>
          <tr>
            <td><code>rrn</code></td>
            <td>string</td>
            <td>Robot Registration Number (format: RRN-XXXXXXXX)</td>
          </tr>
          <tr>
            <td><code>name</code></td>
            <td>string</td>
            <td>Human-readable robot name</td>
          </tr>
          <tr>
            <td><code>manufacturer</code></td>
            <td>string</td>
            <td>Manufacturing company or organization</td>
          </tr>
          <tr>
            <td><code>model</code></td>
            <td>string</td>
            <td>Model identifier (lowercase, hyphens allowed)</td>
          </tr>
          <tr>
            <td><code>description</code></td>
            <td>string</td>
            <td>Brief description of the robot</td>
          </tr>
          <tr>
            <td><code>status</code></td>
            <td>enum</td>
            <td>One of: active, retired, prototype, concept</td>
          </tr>
        </tbody>
      </table>

      <h3>Status Values</h3>
      <table>
        <thead>
          <tr>
            <th>Status</th>
            <th>Meaning</th>
          </tr>
        </thead>
        <tbody>
          <tr>
            <td><code>active</code></td>
            <td>Currently in production or active development</td>
          </tr>
          <tr>
            <td><code>retired</code></td>
            <td>No longer manufactured or supported</td>
          </tr>
          <tr>
            <td><code>prototype</code></td>
            <td>Experimental or pre-production</td>
          </tr>
          <tr>
            <td><code>concept</code></td>
            <td>Design phase, not yet built</td>
          </tr>
        </tbody>
      </table>

      <h3>Owner Types</h3>
      <table>
        <thead>
          <tr>
            <th>Type</th>
            <th>Meaning</th>
          </tr>
        </thead>
        <tbody>
          <tr>
            <td><code>individual</code></td>
            <td>Personal/hobbyist ownership</td>
          </tr>
          <tr>
            <td><code>company</code></td>
            <td>Commercial entity</td>
          </tr>
          <tr>
            <td><code>research</code></td>
            <td>Academic or research institution</td>
          </tr>
          <tr>
            <td><code>community</code></td>
            <td>Open source or community project</td>
          </tr>
        </tbody>
      </table>
    </section>

    <section>
      <h2>Validation Rules</h2>
      <ul>
        <li><code>rrn</code> must match pattern <code>^RRN-\d&#123;8&#125;$</code></li>
        <li><code>production_year</code> must be between 1950 and 2100</li>
        <li><code>submitted_date</code> must match <code>YYYY-MM-DD</code></li>
        <li>All URL fields must be valid URLs</li>
        <li>Numeric specs must be positive numbers</li>
      </ul>
    </section>

    <section>
      <h2>Example: Minimal Registration</h2>
      <pre><code>rrn: "RRN-00000011"
name: "My Robot"
manufacturer: "My Company"
model: "my-robot-v1"
description: "A simple mobile robot for education."
status: "prototype"
tags: ["mobile", "education"]</code></pre>
    </section>

    <section>
      <h2>Example: Complete Registration</h2>
      <pre><code>rrn: "RRN-00000012"
name: "Advanced Research Platform"
manufacturer: "RoboTech Labs"
model: "arp-2000"
description: "A modular research platform with interchangeable sensors and manipulators."
image: "/robots/arp-2000.svg"
production_year: 2024
status: "active"

urdf_url: "https://github.com/robotech/arp-2000/tree/main/urdf"
github_url: "https://github.com/robotech/arp-2000"
website: "https://robotech-labs.com/arp-2000"

specs:
  weight_kg: 45.0
  dimensions: "800 x 600 x 1200 mm"
  max_speed_mps: 2.0
  dof: 7
  ros_version: ["ROS 2 Humble", "ROS 2 Iron"]
  sensors: ["Velodyne VLP-16", "Intel RealSense D455", "IMU"]
  compute: "NVIDIA Jetson AGX Orin"
  payload_kg: 10.0
  battery_life_hours: 4.0
  reach_mm: 1000

owner:
  name: "RoboTech Labs"
  type: "research"
  website: "https://robotech-labs.com"

ruri: "rcan://robotech-labs.com/robotech/arp-2000/a1b2c3d4"

submitted_by: "github:robotech-admin"
submitted_date: "2024-01-15"
tags: ["research", "modular", "ros2", "manipulation", "mobile"]</code></pre>
    </section>
  </article>
</BaseLayout>

<style>
  .doc-nav {
    margin-bottom: 2rem;
  }

  .doc-nav a {
    color: var(--color-text-muted);
    font-size: 0.875rem;
  }

  .lead {
    font-size: 1.25rem;
    color: var(--color-text-muted);
    margin-bottom: 2rem;
  }
</style>
