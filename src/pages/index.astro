---
import BaseLayout from '../layouts/BaseLayout.astro';
import HeroSection from '../components/HeroSection.astro';
import FeatureGrid from '../components/FeatureGrid.astro';
import CodeWindow from '../components/CodeWindow.astro';
---

<BaseLayout title="RCAN Protocol" description="RCAN - Robot Communication & Addressing Network. An open protocol for addressing, discovering, and authenticating robotic agents.">
  <HeroSection />
  
  <section class="max-w-4xl mx-auto py-24 border-b border-white/5">
    <div class="text-center mb-16">
      <h2 class="text-3xl md:text-4xl font-bold mb-6">Why RCAN?</h2>
      <p class="text-xl text-text-muted">
        The internet has DNS and ICANN. IoT has Matter. <strong class="text-accent">Robotics has nothing.</strong>
      </p>
    </div>

    <div class="prose prose-invert prose-lg mx-auto text-text-muted">
      <p>
        As millions of robots are manufactured and deployed—from warehouse arms to delivery bots to humanoids—there is no standard way to:
      </p>
      <ul class="grid grid-cols-1 md:grid-cols-2 gap-4 list-none pl-0 my-8">
        <li class="flex items-center gap-3 bg-bg-alt/30 p-4 rounded-lg border border-white/5">
          <span class="text-accent">Target</span> <strong>Address</strong> a robot uniquely and globally
        </li>
        <li class="flex items-center gap-3 bg-bg-alt/30 p-4 rounded-lg border border-white/5">
          <span class="text-accent">Auth</span> <strong>Authenticate</strong> who is allowed to control it
        </li>
        <li class="flex items-center gap-3 bg-bg-alt/30 p-4 rounded-lg border border-white/5">
           <span class="text-accent">Swarm</span> <strong>Coordinate</strong> fleets and swarms across manufacturers
        </li>
        <li class="flex items-center gap-3 bg-bg-alt/30 p-4 rounded-lg border border-white/5">
           <span class="text-accent">Safety</span> <strong>Ensure safety</strong> when networks fail
        </li>
      </ul>
      <p class="text-center">
        RCAN is an open protocol specification designed to solve these problems with a federated, offline-resilient architecture.
      </p>
    </div>
  </section>
  
  <section class="py-24 border-b border-white/5">
    <div class="max-w-7xl mx-auto">
      <h2 class="text-3xl md:text-4xl font-bold mb-4 text-center">Key Features</h2>
      <p class="text-text-muted text-center max-w-2xl mx-auto mb-12">Built to handle the complexity of real-world robotics.</p>
      <FeatureGrid />
    </div>
  </section>
  
  <section class="py-24 grid grid-cols-1 lg:grid-cols-2 gap-12 items-center">
    <div>
      <h2 class="text-3xl md:text-4xl font-bold mb-6">Built for Developers</h2>
      <p class="text-lg text-text-muted mb-6">
        RCAN is designed to be easy to implement. It provides standard SDKs for Python, TypeScript, C++, and Rust (coming soon). 
      </p>
      <p class="text-text-muted mb-8">
        Connect to robots just like you connect to databases.
      </p>
      <a href="/docs/quickstart" class="text-accent hover:text-accent-hover font-medium flex items-center gap-2 group">
        Read the Quick Start Guide 
        <span class="transform group-hover:translate-x-1 transition-transform">→</span>
      </a>
    </div>

    <div>
      <CodeWindow 
        language="python" 
        title="control_robot.py"
        code={`# Connect to a robot via RCAN
from rcan import RURI, RCANClient, Role

# Parse the robot's address
ruri = RURI.parse("rcan://continuon.cloud/continuon/companion-v1/d3a4b5c6")

# Connect and authenticate
client = RCANClient(client_id="my-app")
await client.connect(ruri)
token = await client.claim(Role.USER, credential="my-key")

# Send a command
result = await client.command("/arm", "move", {x: 0.5, y: 0.2})

# Clean up
await client.release()`} 
      />
    </div>
  </section>
  
  <section class="py-24 text-center">
    <h2 class="text-3xl font-bold mb-8">Documentation</h2>
    <div class="flex flex-wrap justify-center gap-6">
      <a href="/spec/" class="group p-6 bg-bg-alt border border-white/5 rounded-xl hover:border-accent/50 transition-all hover:-translate-y-1 w-64">
        <h3 class="font-bold text-lg mb-2 group-hover:text-accent transition-colors">Full Specification</h3>
        <p class="text-sm text-text-muted">Complete protocol definition with schemas</p>
      </a>
      <a href="/conformance/" class="group p-6 bg-bg-alt border border-white/5 rounded-xl hover:border-accent/50 transition-all hover:-translate-y-1 w-64">
        <h3 class="font-bold text-lg mb-2 group-hover:text-accent transition-colors">Conformance Tests</h3>
        <p class="text-sm text-text-muted">Test suite for implementations</p>
      </a>
      <a href="/implementations/" class="group p-6 bg-bg-alt border border-white/5 rounded-xl hover:border-accent/50 transition-all hover:-translate-y-1 w-64">
        <h3 class="font-bold text-lg mb-2 group-hover:text-accent transition-colors">SDKs & Tools</h3>
        <p class="text-sm text-text-muted">Reference implementations</p>
      </a>
    </div>
    <div class="mt-12">
        <a href="https://craigmerry.com/blog/2026-01-02-we-need-an-icann-for-robotics/" target="_blank" rel="noopener noreferrer" class="text-text-muted hover:text-accent transition-colors underline decoration-dotted">
            Blog: We Need an ICANN for Robotics
        </a>
    </div>
  </section>
</BaseLayout>
